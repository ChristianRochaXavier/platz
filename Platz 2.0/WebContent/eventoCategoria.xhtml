<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/layout/principal.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">
	<h:head>
		<ui:define name="titulo">Sua rota, Seu evento</ui:define>
		<ui:define name="css-link">
		</ui:define>
	</h:head>


	<ui:define name="corpoPagina">


		<c:forEach items="#{eventoBean.categorias}" var="categoria">
			<b:row styleClass="placeholders">

				<p:carousel  styleClass="carrossel"
					headerText="#{categoria.categoria}" numVisible="3"
					autoPlayInterval="30000" itemStyle="text-align:center;"
					responsive="true">

					<c:forEach items="#{eventoBean.listaPorCategoria(categoria)}"
						var="evento">

						<p:panelGrid columns="1" style="width:100%;margin:5px 5px"
							columnClasses="label,value" layout="grid">
							<f:facet name="header">
								<p:graphicImage src="#{evento.caminhoImagem}"
									styleClass="img-responsive" />
							</f:facet>
							<b:row>
							<h:outputText value="Evento: #{evento.evento}" />
							</b:row>
							<b:row>
							<h:outputText value="Empresa: #{evento.empresa.nomeFantasia}" />
							</b:row>
							
							<b:row>
							<h:outputText value=" Inicio:  #{evento.dataInicio}">
								<f:convertDateTime dateStyle="full" />
							</h:outputText>
							<h:outputText value=" às "  />
							<h:outputText value="#{evento.dataInicio}"
								styleClass="text-muted">
								<f:convertDateTime pattern="HH:mm" type="time" />
							</h:outputText>
							</b:row>

							<h:outputText value=" Término: "  />
							<h:outputText value="#{evento.dataTermino}"
								styleClass="text-muted">
								<f:convertDateTime dateStyle="full" />
							</h:outputText>
							<h:outputText value=" às "  />
							<h:outputText value="#{evento.dataTermino}">
								<f:convertDateTime pattern="HH:mm" type="time" />
							</h:outputText>

							<h:outputText value="Mínimo de #{evento.lotacaoMin}" />
										<br />
										<h:outputText value="Máximo de #{evento.lotacaoMax}" />
										<br />
										<h:outputText value="Entrada: #{evento.preco}"
											rendered="#{evento.preco != null || evento.preco != 0}" />
										<!-- Pequeno problema:								
										 #{evento.preco != null ? '$ evento.preco'  : 'gratuito'} -->

										<br />
							<h:commandButton action="#" value="Saiba Mais"
								style="width:50%; background-color: #e67e22;
							border-radius: 5px;height: 50px; color:white; 
							border-color:none;" />
						</p:panelGrid>

					</c:forEach>


				</p:carousel>
			</b:row>

		</c:forEach>



	</ui:define>


</ui:composition>